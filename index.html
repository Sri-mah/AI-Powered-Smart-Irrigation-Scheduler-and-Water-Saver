<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Irrigation & Water Saver</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif;
}

/* ===== BACKGROUND ===== */
body{
  min-height:100vh;
  overflow-x:hidden;
  color:#000;
  background:linear-gradient(to bottom,#9fe7ff,#dff7ff);
  position:relative;
}

/* ‚òÄÔ∏è Sun */
.sun{
  position:fixed;
  top:40px;
  right:40px;
  font-size:70px;
  display:none;
  animation:rotateSun 12s linear infinite;
}
@keyframes rotateSun{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

/* ‚òÅÔ∏è Clouds */
.cloud{
  position:absolute;
  background:white;
  border-radius:50px;
  opacity:0.6;
  animation:moveClouds 60s linear infinite;
}
.cloud::before,.cloud::after{
  content:"";
  position:absolute;
  background:white;
  border-radius:50%;
}
.cloud::before{
  width:60px;height:60px;top:-30px;left:20px;
}
.cloud::after{
  width:80px;height:80px;top:-40px;right:20px;
}
@keyframes moveClouds{
  from{transform:translateX(-200px);}
  to{transform:translateX(120vw);}
}

/* üåßÔ∏è Rain */
.rain{
  position:absolute;
  width:2px;
  height:15px;
  background:rgba(255,255,255,0.6);
  animation:rainFall 1s linear infinite;
  display:none;
}
@keyframes rainFall{
  from{transform:translateY(-20px);}
  to{transform:translateY(100vh);}
}

/* ===== CONTENT ===== */
h1{
  margin-top:30px;
  text-align:center;
  font-size:42px;
  color:#003344;
}

.subtitle{
  text-align:center;
  margin-bottom:25px;
  font-weight:600;
  color:#004d66;
}

.card{
  width:420px;
  margin:25px auto;
  padding:25px;
  background:rgba(255,255,255,0.85);
  border-radius:22px;
  border:2px solid #000;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
}

b{color:#003344;}
.value{color:#006699;font-weight:bold;}

input{width:90%;margin:10px 0;}

button{
  background:#00c2ff;
  border:none;
  padding:12px 30px;
  border-radius:30px;
  font-weight:bold;
  cursor:pointer;
  color:#000;
}

.status-box,
.prediction-box,
.score-box,
.badge-box{
  margin-top:10px;
  padding:10px;
  background:#e0f7ff;
  border-radius:10px;
  font-weight:600;
  display:none;
}

/* ===== CROPS ===== */
.farm{
  position:relative;
  height:120px;
  margin-top:40px;
  background:#4caf50;
  overflow:hidden;
}
.crop{
  position:absolute;
  bottom:0;
  width:6px;
  background:#2e7d32;
  animation:grow 5s ease-in-out infinite;
}
.crop::after{
  content:"üåø";
  position:absolute;
  top:-18px;
  left:-8px;
  font-size:18px;
}
@keyframes grow{
  0%{height:10px;}
  50%{height:70px;}
  100%{height:10px;}
}

footer{
  text-align:center;
  margin:20px;
  font-weight:bold;
  color:#004d66;
}
</style>
</head>

<body>

<!-- ‚òÄÔ∏è Sun -->
<div class="sun" id="sun">‚òÄÔ∏è</div>

<!-- Clouds -->
<div class="cloud" style="width:140px;height:50px;top:40px;left:-150px;"></div>
<div class="cloud" style="width:180px;height:60px;top:100px;left:-300px;animation-duration:80s;"></div>

<!-- Rain drops -->
<script>
for(let i=0;i<70;i++){
  let drop=document.createElement("div");
  drop.className="rain";
  drop.style.left=Math.random()*100+"vw";
  drop.style.animationDelay=Math.random()+"s";
  document.body.appendChild(drop);
}
</script>

<h1>üíß Smart Irrigation & Water Saver üíß</h1>
<p class="subtitle">‚Ä¢ AI-Powered ‚Ä¢ Smart Water Saving ‚Ä¢ Smart Agriculture</p>

<div class="card">
<b>Soil Moisture (%)</b>
<input type="range" min="0" max="100" value="40" id="moisture">
<div class="value">Current Moisture: <span id="mVal">40</span>%</div>

<b>Threshold (%)</b>
<input type="number" value="30" id="threshold">
<div class="value">Threshold Set: <span id="tVal">30</span>%</div>

<br>
<button onclick="analyze()">üöÄ Analyze Irrigation</button>

<div class="status-box" id="resultBox"></div>
<div class="prediction-box" id="predictionBox"></div>
<div class="score-box" id="scoreBox"></div>
<div class="badge-box" id="badgeBox"></div>
</div>

<div class="card">
<h3>üìä Water Usage Analytics</h3>
<canvas id="chart"></canvas>
</div>

<!-- Crops -->
<div class="farm">
  <div class="crop" style="left:10%"></div>
  <div class="crop" style="left:30%;animation-delay:1s"></div>
  <div class="crop" style="left:50%;animation-delay:2s"></div>
  <div class="crop" style="left:70%;animation-delay:3s"></div>
  <div class="crop" style="left:90%;animation-delay:4s"></div>
</div>

<footer>üå± Sustainable Farming ‚Ä¢ Hackathon Innovation</footer>

<script>
const moisture=document.getElementById("moisture");
const threshold=document.getElementById("threshold");
const mVal=document.getElementById("mVal");
const tVal=document.getElementById("tVal");
const box=document.getElementById("resultBox");
const predictionBox=document.getElementById("predictionBox");
const scoreBox=document.getElementById("scoreBox");
const badgeBox=document.getElementById("badgeBox");
const sun=document.getElementById("sun");
const rainDrops=document.querySelectorAll(".rain");

moisture.oninput=()=>mVal.innerText=moisture.value;
threshold.oninput=()=>tVal.innerText=threshold.value;

let history=[],chart;

function analyze(){
  let m=Number(moisture.value);
  let t=Number(threshold.value);

  if(m<t){
    box.innerHTML="üöø Irrigation ON ‚Äì Soil is Dry";
    sun.style.display="block";
    rainDrops.forEach(r=>r.style.display="none");
    history.push(10);
  }else{
    box.innerHTML="‚úÖ No Irrigation Needed ‚Äì Soil Moist";
    sun.style.display="none";
    rainDrops.forEach(r=>r.style.display="block");
    history.push(20);
  }

  box.style.display="block";

  predictionBox.style.display="block";
  predictionBox.innerHTML = m<t
    ? "ü§ñ Prediction: Watering needed to prevent crop stress."
    : "ü§ñ Prediction: Soil moisture is sufficient.";

  let score=Math.max(0,100-Math.abs(m-t));
  scoreBox.style.display="block";
  scoreBox.innerHTML="üåü Water Score: "+score;

  let badge="ü•â Beginner Saver";
  if(score>=80) badge="üèÜ Water Champion";
  else if(score>=60) badge="ü•á Smart Farmer";
  else if(score>=40) badge="ü•à Water Saver";

  badgeBox.style.display="block";
  badgeBox.innerHTML="üèÖ Badge Earned: "+badge;

  drawChart();
}

function drawChart(){
  if(chart) chart.destroy();
  chart=new Chart(document.getElementById("chart"),{
    type:"line",
    data:{
      labels:history.map((_,i)=>"Day "+(i+1)),
      datasets:[{
        label:"Water Credit",
        data:history,
        fill:true,
        borderColor:"#0077aa",
        backgroundColor:"rgba(0,150,200,0.3)",
        tension:0.4
      }]
    }
  });
}
</script>

</body>
</html>

